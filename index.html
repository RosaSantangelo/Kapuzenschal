<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>ROSA BY SANTANGELO – Kapuzenschal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #f4ede5;
      --bg-light: #f9f4ee;
      --panel: #ffffff;
      --accent: #b47f5a;
      --accent-dark: #8a5b3c;
      --text: #3c3230;
      --muted: #7c706b;
      --border-soft: #e2d5c9;
      --badge: #262523;
      --error: #b00020;
      --success: #24753b;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    img {
      max-width: 100%;
      display: block;
    }

    .page {
      max-width: 1200px;
      margin: 0 auto;
      padding: 24px 16px 64px;
    }

    /* HEADER / NAV */

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 24px;
      margin-bottom: 32px;
    }

    .logo-wrap {
      display: flex;
      align-items: center;
      gap: 18px;
    }

    .logo-circle {
      width:125px;
      height: 125px;
      border-radius: 50%;
      background: #ffffff;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1px;
      position: relative;
    }

    .logo-circle::before {
      content: "";
      position: absolute;
      inset: 10px;
      border-radius: 50%;
      border: 1px solid #e0dedb;
    }

    .logo-circle img {
      width: 150%;
      height: auto;
    }

    .brand-title {
      font-size: 18px;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      font-weight: 500;
    }

    .brand-title span:last-child {
      font-weight: 700;
    }

    nav {
      display: flex;
      gap: 16px;
      align-items: center;
      font-size: 14px;
    }

    .nav-link {
      padding: 6px 10px;
      border-radius: 999px;
    }

    .nav-link:hover {
      background: rgba(0, 0, 0, 0.05);
    }

    .cart-pill {
      padding: 6px 14px;
      border-radius: 999px;
      background: #ffffff;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);
      font-size: 13px;
      font-weight: 500;
    }

    /* HERO */

    .hero {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
      gap: 32px;
      margin-bottom: 56px;
      align-items: center;
    }

    .hero-kicker {
      font-size: 11px;
      letter-spacing: 0.28em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 10px;
    }

    .hero-kicker span {
      margin-right: 6px;
    }

    .hero h1 {
      font-size: 34px;
      line-height: 1.2;
      margin: 0 0 16px;
    }

    .hero p {
      margin: 0 0 18px;
      color: var(--muted);
      max-width: 460px;
    }

    .hero-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 4px 0 16px;
      font-size: 11px;
    }

    .badge-soft {
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.02);
      border: 1px solid rgba(0, 0, 0, 0.04);
    }

    .hero-price-line {
      font-size: 13px;
      margin-bottom: 20px;
    }

    .price-regular {
      text-decoration: line-through;
      color: var(--muted);
      margin-right: 8px;
    }

    .price-launch {
      font-weight: 700;
      color: var(--accent-dark);
    }

    .launch-note {
      font-size: 12px;
      color: var(--muted);
      margin-top: 4px;
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 16px;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 10px 18px;
      font-size: 14px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .btn-primary {
      background: var(--accent);
      color: #fff;
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.18);
    }

    .btn-primary:hover {
      background: var(--accent-dark);
    }

    .btn-ghost {
      background: transparent;
      border: 1px solid rgba(0, 0, 0, 0.12);
      color: var(--text);
    }

    .hero-footnote {
      font-size: 12px;
      color: var(--muted);
    }

    .hero-image-card {
      background: #ffffff;
      border-radius: 24px;
      padding: 10px;
      box-shadow: 0 16px 40px rgba(0, 0, 0, 0.16);
    }

    .hero-image-card img {
      border-radius: 18px;
    }

    /* SECTION GENERIC */

    section {
      margin-bottom: 64px;
    }

    h2.section-title {
      font-size: 22px;
      margin-bottom: 6px;
    }

    .section-subtitle {
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 24px;
    }

    /* PRODUCT GRID */

    .product-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 18px;
      margin-bottom: 32px;
    }

    .product-card {
      background: #ffffff;
      border-radius: 18px;
      padding: 10px;
      display: flex;
      flex-direction: column;
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.1);
    }

    .product-image-wrap {
      border-radius: 14px;
      overflow: hidden;
      cursor: pointer;
      margin-bottom: 10px;
    }

    .product-name {
      font-weight: 600;
      margin-bottom: 2px;
      font-size: 15px;
    }

    .product-price-block {
      font-size: 13px;
      margin-bottom: 4px;
    }

    .product-price-block .price-regular {
      font-size: 12px;
    }

    .product-meta {
      font-size: 11px;
      color: var(--muted);
      margin-bottom: 6px;
    }

    .product-desc {
      font-size: 12px;
      margin-bottom: 10px;
    }

    .stock-note {
      font-size: 11px;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .product-actions {
      display: flex;
      gap: 6px;
      align-items: center;
      margin-top: auto;
    }

    .qty-select {
      padding: 6px 8px;
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      font-size: 12px;
      background: var(--bg-light);
    }

    .btn-small {
      font-size: 12px;
      padding: 7px 10px;
    }

    .badge-out {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 11px;
      background: #f7d7d7;
      color: #8b1f2a;
      margin-bottom: 6px;
    }

    /* DETAILS TWO COLUMN */

    .two-column {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 32px;
      align-items: flex-start;
      margin-bottom: 32px;
    }

    .detail-block h3 {
      font-size: 16px;
      margin-bottom: 10px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      font-weight: 600;
    }

    .detail-block ul {
      padding-left: 18px;
      margin: 0;
      font-size: 14px;
    }

    .detail-block li + li {
      margin-top: 4px;
    }

    .sku-list {
      font-size: 13px;
      margin-top: 10px;
    }

    .quote-panel {
      margin-top: 18px;
      padding: 16px 18px;
      border-radius: 16px;
      background: linear-gradient(135deg, #c6916a, #b27652);
      color: #fff;
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 16px;
      font-size: 13px;
    }

    .quote-text-strong {
      font-weight: 600;
      font-style: italic;
    }

    .quote-text-body {
      opacity: 0.93;
    }

    /* GALLERY */

    .gallery-grid {
      display: grid;
      grid-template-columns: 2fr 1.4fr;
      gap: 16px;
      margin-bottom: 20px;
    }

    .gallery-left,
    .gallery-right-top,
    .gallery-right-bottom {
      background: #ffffff;
      border-radius: 14px;
      overflow: hidden;
      position: relative;
    }

    .gallery-left img,
    .gallery-right-top img,
    .gallery-right-bottom img {
      height: 100%;
      width: 100%;
      object-fit: cover;
    }

    .gallery-badge {
      position: absolute;
      left: 12px;
      bottom: 10px;
      background: var(--badge);
      color: #fff;
      font-size: 10px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      padding: 4px 10px;
      border-radius: 999px;
    }

    .gallery-caption {
      position: absolute;
      left: 12px;
      top: 10px;
      background: rgba(0, 0, 0, 0.4);
      color: #fff;
      padding: 4px 8px;
      border-radius: 999px;
      font-size: 11px;
    }

    .banner-full {
      margin-top: 18px;
      border-radius: 18px;
      overflow: hidden;
      box-shadow: 0 12px 28px rgba(0, 0, 0, 0.16);
    }

    /* CART / ORDER */

    .order-section {
      background: #ffffff;
      padding: 24px 18px 26px;
      border-radius: 18px;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
    }

    .order-header {
      display: flex;
      justify-content: space-between;
      gap: 16px;
      align-items: baseline;
      margin-bottom: 12px;
    }

    .order-header h2 {
      margin: 0;
      font-size: 18px;
    }

    .order-number {
      font-size: 13px;
      color: var(--muted);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }

    th,
    td {
      padding: 6px 4px;
      text-align: left;
    }

    thead th {
      border-bottom: 1px solid var(--border-soft);
      font-weight: 600;
      font-size: 12px;
    }

    tbody tr:nth-child(even) {
      background: #faf6f1;
    }

    .cart-qty-controls {
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .cart-qty-btn {
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      width: 20px;
      height: 20px;
      font-size: 12px;
      cursor: pointer;
      background: #fff;
      padding: 0;
    }

    .cart-summary {
      margin-top: 10px;
      display: flex;
      justify-content: space-between;
      font-size: 13px;
      align-items: baseline;
      gap: 12px;
    }

    .cart-total {
      font-weight: 600;
    }

    .cart-note {
      font-size: 12px;
      color: var(--muted);
    }

    .order-form-grid {
      display: grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: 24px;
      margin-top: 18px;
      border-top: 1px solid var(--border-soft);
      padding-top: 16px;
      font-size: 13px;
    }

    .form-group {
      margin-bottom: 10px;
    }

    label {
      display: block;
      font-size: 12px;
      margin-bottom: 3px;
    }

    input[type="text"],
    input[type="email"],
    textarea {
      width: 100%;
      padding: 8px 9px;
      border-radius: 8px;
      border: 1px solid var(--border-soft);
      font-size: 13px;
      font-family: inherit;
      background: var(--bg-light);
    }

    textarea {
      resize: vertical;
      min-height: 60px;
    }

    .payment-choice {
      margin-bottom: 12px;
    }

    .payment-choice label {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin-right: 16px;
      font-size: 13px;
    }

    .payment-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 8px;
    }

    .btn-paypal {
      background: #ffc439;
      color: #111;
      font-weight: 600;
    }

    .btn-paypal:hover {
      background: #ffb000;
    }

    .btn-bank {
      background: transparent;
      border: 1px solid var(--accent);
      color: var(--accent-dark);
      font-weight: 500;
    }

    .bank-panel {
      font-size: 13px;
      background: #faf3ea;
      border-radius: 14px;
      padding: 12px 14px;
      border: 1px dashed var(--border-soft);
    }

    .bank-panel strong {
      font-weight: 600;
    }

    .status-message {
      margin-top: 10px;
      font-size: 13px;
    }

    .status-success {
      color: var(--success);
    }

    .status-error {
      color: var(--error);
    }

    /* FOOTER */

    footer {
      margin-top: 32px;
      font-size: 11px;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
    }

    footer a {
      text-decoration: underline;
      text-decoration-color: rgba(0, 0, 0, 0.3);
    }

    /* MODAL */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.58);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 40;
    }

    .modal-backdrop.active {
      display: flex;
    }

    .modal-content {
      background: #000;
      border-radius: 10px;
      padding: 6px;
      max-width: 90vw;
      max-height: 90vh;
    }

    .modal-content img {
      max-height: 88vh;
      width: auto;
      border-radius: 8px;
    }

    @media (max-width: 900px) {
      header {
        flex-direction: column;
        align-items: flex-start;
      }
      .hero {
        grid-template-columns: minmax(0, 1fr);
      }
      .hero-image-card {
        max-width: 420px;
        margin: 0 auto;
      }
      .product-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
      .two-column,
      .order-form-grid {
        grid-template-columns: minmax(0, 1fr);
      }
      .gallery-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    @media (max-width: 600px) {
      .product-grid {
        grid-template-columns: minmax(0, 1fr);
      }
      .logo-circle {
        width: 96px;
        height: 96px;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <div class="logo-wrap">
        <div class="logo-circle">
          <img src="logo-kapuzenschal.png" alt="ROSA BY SANTANGELO Logo" />
        </div>
        <div class="brand-title">
          <span>ROSA BY</span> <span>SANTANGELO</span>
        </div>
      </div>
      <nav>
        <a href="#produkt" class="nav-link">Produkt</a>
        <a href="#farben" class="nav-link">Farben</a>
        <a href="#warenkorb" class="nav-link">Warenkorb</a>
        <a href="#kontakt" class="nav-link">Kontakt</a>
        <div class="cart-pill">
          Warenkorb: <span id="cart-count">0</span> Artikel
        </div>
      </nav>
    </header>

    <!-- HERO -->
    <section class="hero" id="produkt">
      <div>
        <div class="hero-kicker">
          <span>WARM</span>·<span>ZEITLOS</span>·<span>STYLISH</span>
        </div>
        <h1>Der Kapuzenschal für deinen Alltag.</h1>
        <p>
          Ein Schal und eine Kapuze in einem – weicher Strick, warm und
          bequem. Für Spaziergänge, Alltag oder den Spielplatz.
        </p>

        <div class="hero-badges">
          <div class="badge-soft">Einheitsgröße</div>
          <div class="badge-soft">4 Farben</div>
          <div class="badge-soft">Limitierte Stückzahl</div>
          <div class="badge-soft">Versand innerhalb Deutschlands inkl.</div>
        </div>

        <div class="hero-price-line">
          <span class="price-regular">29,95&nbsp;€</span>
          <span class="price-launch">27,95&nbsp;€ – Launch-Angebot*</span>
          <div class="launch-note">
            *für die ersten Bestellungen, solange der Vorrat reicht.
          </div>
        </div>

        <div class="hero-actions">
          <button class="btn btn-primary" onclick="scrollToSection('farben')">
            Zum Warenkorb
          </button>
          <button class="btn btn-ghost" onclick="scrollToSection('farben')">
            Farben ansehen
          </button>
        </div>
        <div class="hero-footnote">
          Aktuell ein Modell in vier Farbtönen: Braun, Grau, Beige und Sand.
        </div>
      </div>
      <div class="hero-image-card">
        <img
          src="hero-kapuzenschal.jpg"
          alt="Kapuzenschal im Alltag – draußen in den Bergen"
        />
      </div>
    </section>

    <!-- PRODUCT GRID -->
    <section id="farben">
      <h2 class="section-title">Vier Farben – ein Lieblingsstück</h2>
      <div class="section-subtitle">
        Wähle deine Farbe. Über den Button legst du den Schal in deinen
        Warenkorb.
      </div>

      <div class="product-grid">
        <!-- Sand -->
        <article class="product-card" data-color-key="sand">
          <div
            class="product-image-wrap"
            data-modal-image="kapuzenschal-sand.jpg"
          >
            <img
              src="kapuzenschal-sand.jpg"
              alt="Kapuzenschal in Sand"
            />
          </div>
          <div class="product-name">Sand</div>
          <div class="product-price-block">
            <span class="price-regular">29,95&nbsp;€</span>
            <span class="price-launch">27,95&nbsp;€ inkl. Versand (DE)</span>
          </div>
          <div class="product-meta">Art.-Nr.: 2025123459</div>
          <div class="product-desc">
            Heller Sandton – ruhig, soft, zeitlos. Kapuzenschal aus weichem
            Strick.
          </div>
          <div class="stock-note" id="stock-sand">
            Noch verfügbar.
          </div>
          <div class="product-actions">
            <select class="qty-select" id="qty-sand">
              <option value="1">1 Stück</option>
              <option value="2">2 Stück</option>
              <option value="3">3 Stück</option>
              <option value="4">4 Stück</option>
            </select>
            <button
              class="btn btn-primary btn-small"
              data-color-key="sand"
              data-name="Sand"
              data-price="27.95"
              onclick="addToCart(this)"
            >
              In den Warenkorb
            </button>
          </div>
        </article>

        <!-- Beige -->
        <article class="product-card" data-color-key="beige">
          <div
            class="product-image-wrap"
            data-modal-image="kapuzenschal-beige.jpg"
          >
            <img
              src="kapuzenschal-beige.jpg"
              alt="Kapuzenschal in Beige"
            />
          </div>
          <div class="product-name">Beige</div>
          <div class="product-price-block">
            <span class="price-regular">29,95&nbsp;€</span>
            <span class="price-launch">27,95&nbsp;€ inkl. Versand (DE)</span>
          </div>
          <div class="product-meta">Art.-Nr.: 2025123458</div>
          <div class="product-desc">
            Warmer Beigeton, passt zu vielen Outfits. Kapuzenschal aus
            weichem Strick.
          </div>
          <div class="stock-note" id="stock-beige">
            Noch verfügbar.
          </div>
          <div class="product-actions">
            <select class="qty-select" id="qty-beige">
              <option value="1">1 Stück</option>
              <option value="2">2 Stück</option>
              <option value="3">3 Stück</option>
              <option value="4">4 Stück</option>
            </select>
            <button
              class="btn btn-primary btn-small"
              data-color-key="beige"
              data-name="Beige"
              data-price="27.95"
              onclick="addToCart(this)"
            >
              In den Warenkorb
            </button>
          </div>
        </article>

        <!-- Braun -->
        <article class="product-card" data-color-key="braun">
          <div
            class="product-image-wrap"
            data-modal-image="kapuzenschal-braun.jpg"
          >
            <img
              src="kapuzenschal-braun.jpg"
              alt="Kapuzenschal in Braun"
            />
          </div>
          <div class="product-name">Braun</div>
          <div class="product-price-block">
            <span class="price-regular">29,95&nbsp;€</span>
            <span class="price-launch">27,95&nbsp;€ inkl. Versand (DE)</span>
          </div>
          <div class="product-meta">Art.-Nr.: 2025123457</div>
          <div class="product-desc">
            Tiefes Dunkelbraun – klar, ruhig, bewusst. Kapuzenschal aus
            weichem Strick.
          </div>
          <div class="stock-note" id="stock-braun">
            Noch verfügbar.
          </div>
          <div class="product-actions">
            <select class="qty-select" id="qty-braun">
              <option value="1">1 Stück</option>
              <option value="2">2 Stück</option>
              <option value="3">3 Stück</option>
              <option value="4">4 Stück</option>
            </select>
            <button
              class="btn btn-primary btn-small"
              data-color-key="braun"
              data-name="Braun"
              data-price="27.95"
              onclick="addToCart(this)"
            >
              In den Warenkorb
            </button>
          </div>
        </article>

        <!-- Grau -->
        <article class="product-card" data-color-key="grau">
          <div
            class="product-image-wrap"
            data-modal-image="kapuzenschal-grau.jpg"
          >
            <img
              src="kapuzenschal-grau.jpg"
              alt="Kapuzenschal in Grau"
            />
          </div>
          <div class="product-name">Grau</div>
          <div class="product-price-block">
            <span class="price-regular">29,95&nbsp;€</span>
            <span class="price-launch">27,95&nbsp;€ inkl. Versand (DE)</span>
          </div>
          <div class="product-meta">Art.-Nr.: 2025123456</div>
          <div class="product-desc">
            Neutrales Grau – minimalistisch und kombinierbar. Kapuzenschal
            aus weichem Strick.
          </div>
          <div class="stock-note" id="stock-grau">
            Noch verfügbar.
          </div>
          <div class="product-actions">
            <select class="qty-select" id="qty-grau">
              <option value="1">1 Stück</option>
              <option value="2">2 Stück</option>
              <option value="3">3 Stück</option>
              <option value="4">4 Stück</option>
            </select>
            <button
              class="btn btn-primary btn-small"
              data-color-key="grau"
              data-name="Grau"
              data-price="27.95"
              onclick="addToCart(this)"
            >
              In den Warenkorb
            </button>
          </div>
        </article>
      </div>
    </section>

    <!-- DETAILS -->
    <section>
      <div class="two-column">
        <div class="detail-block">
          <h3>Beschreibung &amp; Passform</h3>
          <ul>
            <li>Kapuzenschal aus weichem Strick.</li>
            <li>Accessoire-Stil: Balaclava / Kapuzenschal.</li>
            <li>Einheitsgröße – passt sich der Kopfform an.</li>
          </ul>
          <div class="sku-list">
            <strong>Farben &amp; Artikelnummern</strong><br />
            Grau – 2025123456<br />
            Braun – 2025123457<br />
            Beige – 2025123458<br />
            Sand – 2025123459
          </div>
        </div>
        <div class="detail-block">
          <h3>Material &amp; Pflege</h3>
          <ul>
            <li>Weicher, elastischer Strick – formstabil, angenehm auf der Haut und pflegeleicht.</li>
            <li>Pflegehinweis: Schonwaschgang, liegend trocknen.</li>
            <li>Detaillierte Materialangaben erhältst du gerne auf Anfrage.</li>
          </ul>
          <div class="quote-panel">
            <div class="quote-text-strong">
              „Ein Teil, das dich warm hält, ohne laut zu sein.“
            </div>
            <div class="quote-text-body">
              Sanfte Naturtöne, weicher Strick und eine ruhige Silhouette – der
              Kapuzenschal passt zu Mänteln, Jacken und Hoodies, ohne den Look
              zu überladen. Einfach überziehen und rausgehen.
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- GALLERY -->
    <section>
      <h2 class="section-title">
        So trägt sich der Kapuzenschal im Alltag.
      </h2>
      <div class="section-subtitle">
        Hier siehst du ein paar Eindrücke aus unserem Shooting. Die Fotos
        kannst du später nach und nach austauschen.
      </div>

      <div class="gallery-grid">
        <div class="gallery-left">
          <span class="gallery-caption">Kapuzenschal draußen unterwegs</span>
          <img src="galerie-outdoor.jpg" alt="Kapuzenschal draußen unterwegs" />
          <span class="gallery-badge">DRAUSSEN UNTERWEGS</span>
        </div>
        <div>
          <div class="gallery-right-top" style="margin-bottom: 14px;">
            <img
              src="galerie-details.jpg"
              alt="Kapuzenschal – Details &amp; Struktur"
            />
            <span class="gallery-badge">DETAILS &amp; STRUKTUR</span>
          </div>
          <div class="gallery-right-bottom">
            <img
              src="galerie-alltag.jpg"
              alt="Kapuzenschal im Alltag"
            />
            <span class="gallery-badge">ALLTAGSSITUATION</span>
          </div>
        </div>
      </div>

      <div class="banner-full">
        <img
          src="kapuzenschal-einblick-4.jpg"
          alt="Kapuzenschal – gestylt &amp; kombiniert"
        />
      </div>
    </section>

    <!-- CART & ORDER -->
    <section id="warenkorb">
      <div class="order-section">
        <div class="order-header">
          <h2>Warenkorb &amp; Bezahlung</h2>
          <div class="order-number">
            Bestellnummer:
            <span id="order-number-display" data-order-number="">– wird beim Abschließen vergeben –</span>
          </div>
        </div>

        <p style="font-size:13px; margin-top:0;">
          Lege deine Wunschfarben in den Warenkorb und trage deine Daten ein.
          Danach kannst du bequem per PayPal oder Überweisung bezahlen.
        </p>

        <table>
          <thead>
            <tr>
              <th>Artikel</th>
              <th>Farbe</th>
              <th>Anzahl</th>
              <th>Einzelpreis</th>
              <th>Summe</th>
            </tr>
          </thead>
          <tbody id="cart-items">
            <tr>
              <td colspan="5" style="font-size:12px; color:var(--muted);">
                Dein Warenkorb ist noch leer.
              </td>
            </tr>
          </tbody>
        </table>

        <div class="cart-summary">
          <div class="cart-note">
            Preis: 27,95&nbsp;€ pro Kapuzenschal, inkl. Versand innerhalb
            Deutschlands.
          </div>
          <div class="cart-total">
            Gesamt: <span id="cart-total">0,00&nbsp;€</span>
          </div>
        </div>

        <div class="order-form-grid">
          <div>
            <h3 style="font-size:15px; margin-top:0;">Deine Bestelldaten</h3>
            <div class="form-group">
              <label for="order-name">Vollständiger Name*</label>
              <input type="text" id="order-name" />
            </div>
            <div class="form-group">
              <label for="order-address">Straße &amp; Hausnummer*</label>
              <input type="text" id="order-address" />
            </div>
            <div class="form-group">
              <label for="order-zip-city">PLZ &amp; Ort*</label>
              <input type="text" id="order-zip-city" />
            </div>
            <div class="form-group">
              <label for="order-email">E-Mail-Adresse*</label>
              <input type="email" id="order-email" />
            </div>
            <div class="form-group">
              <label for="order-notes">Hinweise (optional)</label>
              <textarea
                id="order-notes"
                placeholder="z.B. Geschenk, Wunschfarbe als Priorität, Lieferhinweis …"
              ></textarea>
            </div>
          </div>
          <div>
            <h3 style="font-size:15px; margin-top:0;">Zahlungsart &amp; Versand</h3>

            <div class="payment-choice">
              <label>
                <input
                  type="radio"
                  name="payment"
                  value="paypal"
                  checked
                />
                PayPal
              </label>
              <label>
                <input type="radio" name="payment" value="bank" />
                Überweisung
              </label>
            </div>

            <div class="bank-panel" id="bank-panel">
              <strong>Überweisung</strong><br />
              Kontoinhaber: LUMANI UG (haftungsbeschränkt)<br />
              IBAN: DE33 2545 0110 0031 0599 26<br />
              BIC: NOLADE21SWB<br />
              Verwendungszweck: Kapuzenschal + Farbe(n) + dein Name
            </div>

            <div class="payment-buttons">
              <button
                type="button"
                class="btn btn-paypal btn-small"
                onclick="payWithPaypal()"
              >
                Mit PayPal bezahlen
              </button>
              <button
                type="button"
                class="btn btn-bank btn-small"
                onclick="completeBankOrder()"
              >
                Bestellung per Überweisung abschließen
              </button>
            </div>

            <div
              class="status-message"
              id="status-message"
            ></div>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACT / FOOTER -->
    <section id="kontakt" style="margin-top:32px;">
      <h2 class="section-title">Kontakt &amp; Fragen</h2>
      <div class="section-subtitle">
        Du hast Fragen zu Farben, Lieferzeit oder Bestellung? Schreib uns
        einfach eine Nachricht.
      </div>
      <button
        class="btn btn-ghost"
        onclick="window.location.href='mailto:info@lumani.net?subject=Frage%20zum%20Kapuzenschal'"
      >
        E-Mail senden
      </button>
    </section>

    <footer>
      <div>
        © 2025 ROSA BY SANTANGELO – ein Produkt der LUMANI UG.
      </div>
      <div>
        <a href="impressum.html">Impressum</a> ·
        <a href="datenschutz.html">Datenschutz</a>
      </div>
    </footer>
  </div>

  <!-- MODAL FOR PRODUCT IMAGES -->
  <div class="modal-backdrop" id="image-modal" onclick="closeModal(event)">
    <div class="modal-content">
      <img src="" alt="Produktansicht" id="modal-image" />
    </div>
  </div>

  <script>
    // --- Smooth Scroll ---
    function scrollToSection(id) {
      const el = document.getElementById(id);
      if (el) {
        el.scrollIntoView({ behavior: "smooth", block: "start" });
      }
    }

    // --- Lagerbestand (pro Browser-Session) ---
    const initialStock = {
      sand: 20,
      beige: 20,
      braun: 100,
      grau: 20,
    };

    const stock = { ...initialStock };

    // --- Warenkorb ---
    const cart = [];
    const cartCountEl = document.getElementById("cart-count");
    const cartItemsEl = document.getElementById("cart-items");
    const cartTotalEl = document.getElementById("cart-total");
    const orderNumberDisplay = document.getElementById("order-number-display");
    const statusMessageEl = document.getElementById("status-message");

    function formatPrice(num) {
      return num.toFixed(2).replace(".", ",") + " €";
    }

    function addToCart(buttonEl) {
      const key = buttonEl.dataset.colorKey;
      const name = buttonEl.dataset.name;
      const price = parseFloat(buttonEl.dataset.price);
      const qtySelect = document.getElementById("qty-" + key);
      const qty = parseInt(qtySelect.value, 10);

      if (stock[key] <= 0) {
        alert("Diese Farbe ist aktuell ausverkauft.");
        return;
      }
      if (qty > stock[key]) {
        alert(
          "Es sind nur noch " +
            stock[key] +
            " Stück in dieser Farbe verfügbar."
        );
        return;
      }

      // Lager reduzieren
      stock[key] -= qty;
      updateStockUI(key);

      // In den Warenkorb
      const existing = cart.find((item) => item.key === key);
      if (existing) {
        existing.qty += qty;
      } else {
        cart.push({ key, name, price, qty });
      }

      updateCartDisplay();
      statusMessage("");
    }

    function updateStockUI(key) {
      const remaining = stock[key];
      const note = document.getElementById("stock-" + key);
      const card = document.querySelector('.product-card[data-color-key="' + key + '"]');
      const button = card.querySelector("button[data-color-key]");
      const qtySelect = document.getElementById("qty-" + key);

      if (remaining <= 0) {
        note.textContent = "Ausverkauft.";
        button.disabled = true;
        qtySelect.disabled = true;
        note.classList.add("badge-out");
      } else if (remaining <= 5) {
        note.textContent = "Nur noch " + remaining + " Stück verfügbar.";
        button.disabled = false;
        qtySelect.disabled = false;
        note.classList.remove("badge-out");
      } else {
        note.textContent = "Noch verfügbar.";
        button.disabled = false;
        qtySelect.disabled = false;
        note.classList.remove("badge-out");
      }

      // Auswahloptionen begrenzen
      Array.from(qtySelect.options).forEach((opt) => {
        const val = parseInt(opt.value, 10);
        opt.disabled = val > remaining;
      });
    }

    function updateCartDisplay() {
      cartItemsEl.innerHTML = "";

      if (cart.length === 0) {
        cartItemsEl.innerHTML =
          '<tr><td colspan="5" style="font-size:12px; color:var(--muted);">Dein Warenkorb ist noch leer.</td></tr>';
        cartCountEl.textContent = "0";
        cartTotalEl.textContent = "0,00 €";
        return;
      }

      let total = 0;
      cart.forEach((item, index) => {
        const sum = item.price * item.qty;
        total += sum;
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>Kapuzenschal</td>
          <td>${item.name}</td>
          <td>
            <div class="cart-qty-controls">
              <button class="cart-qty-btn" onclick="changeCartQty(${index}, -1)">-</button>
              <span>${item.qty}</span>
              <button class="cart-qty-btn" onclick="changeCartQty(${index}, 1)">+</button>
            </div>
          </td>
          <td>${formatPrice(item.price)}</td>
          <td>${formatPrice(sum)}</td>
        `;
        cartItemsEl.appendChild(tr);
      });

      cartCountEl.textContent = String(
        cart.reduce((acc, i) => acc + i.qty, 0)
      );
      cartTotalEl.textContent = formatPrice(total);
    }

    function changeCartQty(index, delta) {
      const item = cart[index];
      if (!item) return;

      if (delta < 0) {
        if (item.qty + delta <= 0) {
          // komplett entfernen, Lager zurück
          stock[item.key] += item.qty;
          cart.splice(index, 1);
        } else {
          item.qty += delta;
          stock[item.key] += 1;
        }
      } else {
        // hinzufügen, aber Lager checken
        if (stock[item.key] <= 0) {
          alert("Keine weiteren Stücke dieser Farbe verfügbar.");
          return;
        }
        item.qty += 1;
        stock[item.key] -= 1;
      }

      updateStockUI(item.key);
      updateCartDisplay();
    }

    function statusMessage(text, type) {
      statusMessageEl.textContent = text || "";
      statusMessageEl.classList.remove("status-success", "status-error");
      if (type === "success") {
        statusMessageEl.classList.add("status-success");
      } else if (type === "error") {
        statusMessageEl.classList.add("status-error");
      }
    }

    // --- Bestellnummer erzeugen ---
    function ensureOrderNumber() {
      let current = orderNumberDisplay.dataset.orderNumber;
      if (current && current.trim() !== "") return current;

      const now = new Date();
      const datePart =
        String(now.getFullYear()).slice(2) +
        String(now.getMonth() + 1).padStart(2, "0") +
        String(now.getDate()).padStart(2, "0");
      const rand = Math.floor(Math.random() * 900 + 100); // 3-stellig
      current = "RB" + datePart + "-" + rand;
      orderNumberDisplay.dataset.orderNumber = current;
      orderNumberDisplay.textContent = current;
      return current;
    }

    // --- PayPal Integration (überarbeitet) ---
    function payWithPaypal() {
      if (cart.length === 0) {
        alert("Bitte lege zuerst mindestens einen Kapuzenschal in den Warenkorb.");
        return;
      }

      const name = document.getElementById("order-name").value.trim();
      const address = document.getElementById("order-address").value.trim();
      const zipCity = document.getElementById("order-zip-city").value.trim();
      const email = document.getElementById("order-email").value.trim();
      const notes = document.getElementById("order-notes").value.trim();

      if (!name || !address || !zipCity || !email) {
        alert(
          "Bitte fülle alle Pflichtfelder (Name, Adresse, PLZ/Ort, E-Mail) aus."
        );
        return;
      }

      // Bestellnummer sicherstellen
      const orderNumber = ensureOrderNumber();

      // Warenkorbinfos aufbereiten
      let total = 0;
      const itemsText = cart
        .map((item) => {
          total += item.price * item.qty;
          return item.qty + "× " + item.name;
        })
        .join(", ");

      // 1) Interne Bestell-Mail an euch vorbereiten
      const internalSubject = "Bestellung Kapuzenschal (PayPal) " + orderNumber;

      const internalBodyLines = [
        "Neue Bestellung Kapuzenschal (Zahlungsart: PayPal)",
        "",
        "Bestellnummer: " + orderNumber,
        "",
        "Kundendaten:",
        "Name: " + name,
        "Adresse: " + address,
        "PLZ/Ort: " + zipCity,
        "E-Mail: " + email,
        "",
        "Bestellte Artikel:",
        ...cart.map((item) => {
          return item.qty + "× " + item.name + " – " + formatPrice(item.price);
        }),
        "",
        "Gesamtbetrag: " + formatPrice(total),
        "",
        "Hinweise des Kunden:",
        notes || "-",
      ];

      const internalMailto =
        "mailto:info@lumani.net?subject=" +
        encodeURIComponent(internalSubject) +
        "&body=" +
        encodeURIComponent(internalBodyLines.join("\n"));

      // Mailentwurf für euch öffnen (neuer Tab / neues Fenster)
      window.open(internalMailto, "_blank");

      // 2) Weiterleitung zu PayPal mit Farben & Mengen im item_name
      const business = "info@lumani.net";
      const baseUrl = "https://www.paypal.com/cgi-bin/webscr";

      const params = new URLSearchParams({
        cmd: "_xclick",
        business: business,
        currency_code: "EUR",
        amount: total.toFixed(2),
        // Farben & Mengen sichtbar in PayPal-Mail
        item_name: "Kapuzenschal: " + itemsText,
        invoice: orderNumber,
        // für euch intern in PayPal sichtbar
        custom:
          "Bestellnr: " + orderNumber +
          " | Artikel: " + itemsText +
          " | Kunde: " + name +
          " | Adresse: " + address + ", " + zipCity +
          " | E-Mail: " + email
      });

      const paypalUrl = baseUrl + "?" + params.toString();

      statusMessage("Weiterleitung zu PayPal …", "success");
      window.location.href = paypalUrl;
    }

    // --- Bestellung per Überweisung ---
    function completeBankOrder() {
      if (cart.length === 0) {
        alert("Bitte lege zuerst mindestens einen Kapuzenschal in den Warenkorb.");
        return;
      }

      const name = document.getElementById("order-name").value.trim();
      const address = document.getElementById("order-address").value.trim();
      const zipCity = document.getElementById("order-zip-city").value.trim();
      const email = document.getElementById("order-email").value.trim();
      const notes = document.getElementById("order-notes").value.trim();

      if (!name || !address || !zipCity || !email) {
        alert(
          "Bitte fülle alle Pflichtfelder (Name, Adresse, PLZ/Ort, E-Mail) aus."
        );
        return;
      }

      const orderNumber = ensureOrderNumber();

      let total = 0;
      const itemsLines = cart.map((item) => {
        const line = item.qty + "× " + item.name + " – " + formatPrice(item.price);
        total += item.price * item.qty;
        return line;
      });

      const subject =
        "Bestellung Kapuzenschal " + orderNumber;
      const bodyLines = [
        "Neue Bestellung Kapuzenschal",
        "",
        "Bestellnummer: " + orderNumber,
        "",
        "Kundendaten:",
        "Name: " + name,
        "Adresse: " + address,
        "PLZ/Ort: " + zipCity,
        "E-Mail: " + email,
        "",
        "Bestellte Artikel:",
        ...itemsLines,
        "",
        "Gesamtbetrag: " + formatPrice(total),
        "",
        "Hinweise des Kunden:",
        notes || "-",
      ];

      const mailto =
        "mailto:info@lumani.net?subject=" +
        encodeURIComponent(subject) +
        "&body=" +
        encodeURIComponent(bodyLines.join("\n"));

      window.location.href = mailto;

      statusMessage(
        "Deine Bestellung per Überweisung wurde vorbereitet. Du erhältst eine E-Mail mit allen Details.",
        "success"
      );
    }

    // --- Produktbild im Modal anzeigen ---
    const modal = document.getElementById("image-modal");
    const modalImage = document.getElementById("modal-image");

    document.querySelectorAll(".product-image-wrap").forEach((wrap) => {
      wrap.addEventListener("click", () => {
        const src = wrap.dataset.modalImage;
        modalImage.src = src;
        modal.classList.add("active");
      });
    });

    function closeModal(event) {
      if (event.target === modal || event.target === modalImage) {
        modal.classList.remove("active");
        modalImage.src = "";
      }
    }

    // --- Initial Stock-Anzeige setzen ---
    ["sand", "beige", "braun", "grau"].forEach(updateStockUI);
  </script>
</body>
</html>
